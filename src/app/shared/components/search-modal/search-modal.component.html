<div class="modal-overlay" (click)="closeModal()"></div>
<div class="modal-content">
  <div class="modal-header">
    <h3 class="list-name">{{ title }}</h3>
    <button (click)="closeModal()" class="close-btn">&times;</button>
  </div>
  <div class="modal-body">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="filterItems()"
      placeholder="Search..."
      class="search-input"
    />
    <div class="list-container">
      <div *ngFor="let list of filteredLists">
        <div *ngIf="list.list.length > 0">
          <h4 class="list-name">{{ list.name }}</h4>
          <ul class="item-list">
            <li
              *ngFor="let item of list.list"
              (click)="selectItem(item, list.name)"
              [class.selected]="isSelected(item, list.name)"
              class="item"
            >
              <span *ngFor="let prop of displayProps; let i = index">
                {{ item[prop] }}<span *ngIf="i < displayProps.length - 1"> - </span>
              </span>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <button *ngIf="multipleChoices" (click)="closeModal()" class="confirm-btn">Confirm Selection</button>
  </div>
</div>
